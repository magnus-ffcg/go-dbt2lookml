<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# generators

```go
import "github.com/magnus-ffcg/go-dbt2lookml/pkg/generators"
```

Package generators provides LookML generation functionality from dbt models.

This package contains the core logic for transforming dbt catalog and manifest data into LookML view files. It handles dimension generation, measure creation, explore definitions, and nested view structures.

Key components:

- LookMLGenerator: Main coordinator for generating all LookML files
- ViewGenerator: Generates LookML views from dbt models
- DimensionGenerator: Creates dimensions and dimension groups
- MeasureGenerator: Generates measures from metadata
- ExploreGenerator: Creates explores with join relationships

The package supports:

- BigQuery nested/repeated columns \(STRUCT/ARRAY\)
- Custom LookML metadata via dbt meta tags
- Dimension groups for date/timestamp fields
- Automatic and custom measure generation
- Context\-aware cancellation for long operations

Example usage:

```
cfg := &config.Config{
    OutputDir:    "./output",
    UseTableName: false,
}
generator := NewLookMLGenerator(cfg)
```

## Index

- [type DimensionGenerator](<#DimensionGenerator>)
  - [func NewDimensionGenerator\(cfg \*config.Config\) \*DimensionGenerator](<#NewDimensionGenerator>)
  - [func \(g \*DimensionGenerator\) GenerateDimension\(model \*models.DbtModel, column \*models.DbtModelColumn\) \(\*models.LookMLDimension, error\)](<#DimensionGenerator.GenerateDimension>)
  - [func \(g \*DimensionGenerator\) GenerateDimensionGroup\(model \*models.DbtModel, column \*models.DbtModelColumn\) \(\*models.LookMLDimensionGroup, error\)](<#DimensionGenerator.GenerateDimensionGroup>)
  - [func \(g \*DimensionGenerator\) GetDimensionGroupLabel\(column \*models.DbtModelColumn\) \*string](<#DimensionGenerator.GetDimensionGroupLabel>)
  - [func \(g \*DimensionGenerator\) GetDimensionName\(column \*models.DbtModelColumn\) string](<#DimensionGenerator.GetDimensionName>)
- [type DimensionGeneratorInterface](<#DimensionGeneratorInterface>)
- [type ErrorStrategy](<#ErrorStrategy>)
  - [func \(e ErrorStrategy\) String\(\) string](<#ErrorStrategy.String>)
- [type ExploreGenerator](<#ExploreGenerator>)
  - [func NewExploreGenerator\(cfg \*config.Config\) \*ExploreGenerator](<#NewExploreGenerator>)
  - [func \(g \*ExploreGenerator\) GenerateExplore\(model \*models.DbtModel\) \(\*models.LookMLExplore, error\)](<#ExploreGenerator.GenerateExplore>)
  - [func \(g \*ExploreGenerator\) GenerateExploreWithJoins\(model \*models.DbtModel, relatedModels \[\]\*models.DbtModel\) \(\*models.LookMLExplore, error\)](<#ExploreGenerator.GenerateExploreWithJoins>)
  - [func \(g \*ExploreGenerator\) ValidateExplore\(explore \*models.LookMLExplore\) \[\]string](<#ExploreGenerator.ValidateExplore>)
- [type ExploreGeneratorInterface](<#ExploreGeneratorInterface>)
- [type GenerationOptions](<#GenerationOptions>)
  - [func DefaultGenerationOptions\(\) GenerationOptions](<#DefaultGenerationOptions>)
- [type GenerationResult](<#GenerationResult>)
  - [func \(r \*GenerationResult\) ErrorSummary\(\) string](<#GenerationResult.ErrorSummary>)
  - [func \(r \*GenerationResult\) HasErrors\(\) bool](<#GenerationResult.HasErrors>)
  - [func \(r \*GenerationResult\) Success\(\) bool](<#GenerationResult.Success>)
- [type LookMLGenerator](<#LookMLGenerator>)
  - [func NewLookMLGenerator\(cfg \*config.Config\) \*LookMLGenerator](<#NewLookMLGenerator>)
  - [func \(g \*LookMLGenerator\) GenerateAll\(models \[\]\*models.DbtModel\) \(int, error\)](<#LookMLGenerator.GenerateAll>)
  - [func \(g \*LookMLGenerator\) GenerateAllWithContext\(ctx context.Context, models \[\]\*models.DbtModel\) \(int, error\)](<#LookMLGenerator.GenerateAllWithContext>)
  - [func \(g \*LookMLGenerator\) GenerateAllWithOptions\(ctx context.Context, models \[\]\*models.DbtModel, opts GenerationOptions\) \(\*GenerationResult, error\)](<#LookMLGenerator.GenerateAllWithOptions>)
- [type LookMLGeneratorInterface](<#LookMLGeneratorInterface>)
- [type MeasureGenerator](<#MeasureGenerator>)
  - [func NewMeasureGenerator\(cfg \*config.Config\) \*MeasureGenerator](<#NewMeasureGenerator>)
  - [func \(g \*MeasureGenerator\) GenerateDefaultCountMeasure\(model \*models.DbtModel\) \*models.LookMLMeasure](<#MeasureGenerator.GenerateDefaultCountMeasure>)
  - [func \(g \*MeasureGenerator\) GenerateMeasure\(model \*models.DbtModel, measureMeta \*models.DbtMetaLookerMeasure\) \(\*models.LookMLMeasure, error\)](<#MeasureGenerator.GenerateMeasure>)
  - [func \(g \*MeasureGenerator\) GenerateNumericMeasures\(model \*models.DbtModel, column \*models.DbtModelColumn\) \[\]\*models.LookMLMeasure](<#MeasureGenerator.GenerateNumericMeasures>)
  - [func \(g \*MeasureGenerator\) GeneratePrimaryKeyMeasure\(model \*models.DbtModel, pkColumn \*models.DbtModelColumn\) \*models.LookMLMeasure](<#MeasureGenerator.GeneratePrimaryKeyMeasure>)
- [type MeasureGeneratorInterface](<#MeasureGeneratorInterface>)
- [type ModelError](<#ModelError>)
  - [func \(e ModelError\) String\(\) string](<#ModelError.String>)
- [type ViewGenerator](<#ViewGenerator>)
  - [func NewViewGenerator\(cfg \*config.Config\) \*ViewGenerator](<#NewViewGenerator>)
  - [func \(g \*ViewGenerator\) GenerateNestedView\(model \*models.DbtModel, arrayColumn \*models.DbtModelColumn\) \(\*models.LookMLView, error\)](<#ViewGenerator.GenerateNestedView>)
  - [func \(g \*ViewGenerator\) GenerateView\(model \*models.DbtModel\) \(\*models.LookMLView, error\)](<#ViewGenerator.GenerateView>)
- [type ViewGeneratorInterface](<#ViewGeneratorInterface>)


<a name="DimensionGenerator"></a>
## type DimensionGenerator

DimensionGenerator handles generation of LookML dimensions and dimension groups

```go
type DimensionGenerator struct {
    // contains filtered or unexported fields
}
```

<a name="NewDimensionGenerator"></a>
### func NewDimensionGenerator

```go
func NewDimensionGenerator(cfg *config.Config) *DimensionGenerator
```

NewDimensionGenerator creates a new DimensionGenerator instance

<a name="DimensionGenerator.GenerateDimension"></a>
### func \(\*DimensionGenerator\) GenerateDimension

```go
func (g *DimensionGenerator) GenerateDimension(model *models.DbtModel, column *models.DbtModelColumn) (*models.LookMLDimension, error)
```

GenerateDimension generates a LookML dimension from a model column

<a name="DimensionGenerator.GenerateDimensionGroup"></a>
### func \(\*DimensionGenerator\) GenerateDimensionGroup

```go
func (g *DimensionGenerator) GenerateDimensionGroup(model *models.DbtModel, column *models.DbtModelColumn) (*models.LookMLDimensionGroup, error)
```

GenerateDimensionGroup generates a LookML dimension group from a model column

<a name="DimensionGenerator.GetDimensionGroupLabel"></a>
### func \(\*DimensionGenerator\) GetDimensionGroupLabel

```go
func (g *DimensionGenerator) GetDimensionGroupLabel(column *models.DbtModelColumn) *string
```

GetDimensionGroupLabel gets the group label for the dimension

<a name="DimensionGenerator.GetDimensionName"></a>
### func \(\*DimensionGenerator\) GetDimensionName

```go
func (g *DimensionGenerator) GetDimensionName(column *models.DbtModelColumn) string
```

GetDimensionName gets the dimension name from the column

<a name="DimensionGeneratorInterface"></a>
## type DimensionGeneratorInterface

DimensionGeneratorInterface defines the interface for generating LookML dimensions

```go
type DimensionGeneratorInterface interface {
    // GenerateDimension generates a LookML dimension from a model column
    GenerateDimension(model *models.DbtModel, column *models.DbtModelColumn) (*models.LookMLDimension, error)

    // GenerateDimensionGroup generates a LookML dimension group from a model column
    GenerateDimensionGroup(model *models.DbtModel, column *models.DbtModelColumn) (*models.LookMLDimensionGroup, error)

    // GetDimensionName gets the dimension name from the column
    GetDimensionName(column *models.DbtModelColumn) string

    // GetDimensionGroupLabel gets the group label for the dimension
    GetDimensionGroupLabel(column *models.DbtModelColumn) *string
}
```

<a name="ErrorStrategy"></a>
## type ErrorStrategy

ErrorStrategy defines how the generator should handle errors during generation.

```go
type ErrorStrategy int
```

<a name="FailFast"></a>

```go
const (
    // FailFast stops generation immediately on the first error.
    // This is the safest strategy for production use.
    FailFast ErrorStrategy = iota

    // FailAtEnd collects all errors and continues processing all models.
    // Returns an error at the end if any models failed.
    // Useful for seeing all problems at once.
    FailAtEnd

    // ContinueOnError logs errors but does not fail the generation.
    // Returns success even if some models failed.
    // Use with caution - only for non-critical generation tasks.
    ContinueOnError
)
```

<a name="ErrorStrategy.String"></a>
### func \(ErrorStrategy\) String

```go
func (e ErrorStrategy) String() string
```

String returns a human\-readable name for the error strategy.

<a name="ExploreGenerator"></a>
## type ExploreGenerator

ExploreGenerator handles generation of LookML explores

```go
type ExploreGenerator struct {
    // contains filtered or unexported fields
}
```

<a name="NewExploreGenerator"></a>
### func NewExploreGenerator

```go
func NewExploreGenerator(cfg *config.Config) *ExploreGenerator
```

NewExploreGenerator creates a new ExploreGenerator instance

<a name="ExploreGenerator.GenerateExplore"></a>
### func \(\*ExploreGenerator\) GenerateExplore

```go
func (g *ExploreGenerator) GenerateExplore(model *models.DbtModel) (*models.LookMLExplore, error)
```

GenerateExplore generates a LookML explore from a dbt model

<a name="ExploreGenerator.GenerateExploreWithJoins"></a>
### func \(\*ExploreGenerator\) GenerateExploreWithJoins

```go
func (g *ExploreGenerator) GenerateExploreWithJoins(model *models.DbtModel, relatedModels []*models.DbtModel) (*models.LookMLExplore, error)
```

GenerateExploreWithJoins generates an explore with automatic joins based on foreign keys

<a name="ExploreGenerator.ValidateExplore"></a>
### func \(\*ExploreGenerator\) ValidateExplore

```go
func (g *ExploreGenerator) ValidateExplore(explore *models.LookMLExplore) []string
```

ValidateExplore validates that an explore is properly configured

<a name="ExploreGeneratorInterface"></a>
## type ExploreGeneratorInterface

ExploreGeneratorInterface defines the interface for generating LookML explores

```go
type ExploreGeneratorInterface interface {
    // GenerateExplore generates a LookML explore from a dbt model
    GenerateExplore(model *models.DbtModel) (*models.LookMLExplore, error)

    // GenerateExploreWithJoins generates an explore with automatic joins based on foreign keys
    GenerateExploreWithJoins(model *models.DbtModel, relatedModels []*models.DbtModel) (*models.LookMLExplore, error)

    // ValidateExplore validates that an explore is properly configured
    ValidateExplore(explore *models.LookMLExplore) []string
}
```

<a name="GenerationOptions"></a>
## type GenerationOptions

GenerationOptions configures the behavior of the generation process.

```go
type GenerationOptions struct {
    // ErrorStrategy determines how errors are handled
    ErrorStrategy ErrorStrategy

    // MaxErrors limits the number of errors before stopping (0 = unlimited)
    // Only applies when ErrorStrategy is FailAtEnd
    MaxErrors int
}
```

<a name="DefaultGenerationOptions"></a>
### func DefaultGenerationOptions

```go
func DefaultGenerationOptions() GenerationOptions
```

DefaultGenerationOptions returns the default options \(FailFast\).

<a name="GenerationResult"></a>
## type GenerationResult

GenerationResult contains the results of a generation operation.

```go
type GenerationResult struct {
    // FilesGenerated is the number of files successfully generated
    FilesGenerated int

    // Errors contains all errors that occurred during generation
    Errors []ModelError

    // ModelsProcessed is the total number of models attempted
    ModelsProcessed int
}
```

<a name="GenerationResult.ErrorSummary"></a>
### func \(\*GenerationResult\) ErrorSummary

```go
func (r *GenerationResult) ErrorSummary() string
```

ErrorSummary returns a summary of the errors.

<a name="GenerationResult.HasErrors"></a>
### func \(\*GenerationResult\) HasErrors

```go
func (r *GenerationResult) HasErrors() bool
```

HasErrors returns true if any errors occurred during generation.

<a name="GenerationResult.Success"></a>
### func \(\*GenerationResult\) Success

```go
func (r *GenerationResult) Success() bool
```

Success returns true if generation completed successfully according to the strategy.

<a name="LookMLGenerator"></a>
## type LookMLGenerator

LookMLGenerator is the main generator that coordinates all LookML generation

```go
type LookMLGenerator struct {
    // contains filtered or unexported fields
}
```

<a name="NewLookMLGenerator"></a>
### func NewLookMLGenerator

```go
func NewLookMLGenerator(cfg *config.Config) *LookMLGenerator
```

NewLookMLGenerator creates a new LookMLGenerator instance

<a name="LookMLGenerator.GenerateAll"></a>
### func \(\*LookMLGenerator\) GenerateAll

```go
func (g *LookMLGenerator) GenerateAll(models []*models.DbtModel) (int, error)
```

GenerateAll generates all LookML files for the given models. Uses the legacy error handling behavior \(respects config.ContinueOnError\).

<a name="LookMLGenerator.GenerateAllWithContext"></a>
### func \(\*LookMLGenerator\) GenerateAllWithContext

```go
func (g *LookMLGenerator) GenerateAllWithContext(ctx context.Context, models []*models.DbtModel) (int, error)
```

GenerateAllWithContext generates all LookML files for the given models with cancellation support

<a name="LookMLGenerator.GenerateAllWithOptions"></a>
### func \(\*LookMLGenerator\) GenerateAllWithOptions

```go
func (g *LookMLGenerator) GenerateAllWithOptions(ctx context.Context, models []*models.DbtModel, opts GenerationOptions) (*GenerationResult, error)
```

GenerateAllWithOptions generates all LookML files with configurable error handling. This is the recommended method for new code as it provides better error control.

<a name="LookMLGeneratorInterface"></a>
## type LookMLGeneratorInterface

LookMLGeneratorInterface defines the interface for the main LookML generator

```go
type LookMLGeneratorInterface interface {
    // GenerateAll generates all LookML files for the given models
    GenerateAll(models []*models.DbtModel) (int, error)

    // GenerateAllWithContext generates all LookML files with cancellation support
    GenerateAllWithContext(ctx context.Context, models []*models.DbtModel) (int, error)
}
```

<a name="MeasureGenerator"></a>
## type MeasureGenerator

MeasureGenerator handles generation of LookML measures

```go
type MeasureGenerator struct {
    // contains filtered or unexported fields
}
```

<a name="NewMeasureGenerator"></a>
### func NewMeasureGenerator

```go
func NewMeasureGenerator(cfg *config.Config) *MeasureGenerator
```

NewMeasureGenerator creates a new MeasureGenerator instance

<a name="MeasureGenerator.GenerateDefaultCountMeasure"></a>
### func \(\*MeasureGenerator\) GenerateDefaultCountMeasure

```go
func (g *MeasureGenerator) GenerateDefaultCountMeasure(model *models.DbtModel) *models.LookMLMeasure
```

GenerateDefaultCountMeasure generates a default count measure for a model

<a name="MeasureGenerator.GenerateMeasure"></a>
### func \(\*MeasureGenerator\) GenerateMeasure

```go
func (g *MeasureGenerator) GenerateMeasure(model *models.DbtModel, measureMeta *models.DbtMetaLookerMeasure) (*models.LookMLMeasure, error)
```

GenerateMeasure generates a LookML measure from measure metadata

<a name="MeasureGenerator.GenerateNumericMeasures"></a>
### func \(\*MeasureGenerator\) GenerateNumericMeasures

```go
func (g *MeasureGenerator) GenerateNumericMeasures(model *models.DbtModel, column *models.DbtModelColumn) []*models.LookMLMeasure
```

GenerateNumericMeasures generates sum/average measures for numeric columns

<a name="MeasureGenerator.GeneratePrimaryKeyMeasure"></a>
### func \(\*MeasureGenerator\) GeneratePrimaryKeyMeasure

```go
func (g *MeasureGenerator) GeneratePrimaryKeyMeasure(model *models.DbtModel, pkColumn *models.DbtModelColumn) *models.LookMLMeasure
```

GeneratePrimaryKeyMeasure generates a count distinct measure for primary key columns

<a name="MeasureGeneratorInterface"></a>
## type MeasureGeneratorInterface

MeasureGeneratorInterface defines the interface for generating LookML measures

```go
type MeasureGeneratorInterface interface {
    // GenerateMeasure generates a LookML measure from measure metadata
    GenerateMeasure(model *models.DbtModel, measureMeta *models.DbtMetaLookerMeasure) (*models.LookMLMeasure, error)

    // GenerateDefaultCountMeasure generates a default count measure for a model
    GenerateDefaultCountMeasure(model *models.DbtModel) *models.LookMLMeasure

    // GeneratePrimaryKeyMeasure generates a count distinct measure for primary key columns
    GeneratePrimaryKeyMeasure(model *models.DbtModel, pkColumn *models.DbtModelColumn) *models.LookMLMeasure

    // GenerateNumericMeasures generates sum/average measures for numeric columns
    GenerateNumericMeasures(model *models.DbtModel, column *models.DbtModelColumn) []*models.LookMLMeasure
}
```

<a name="ModelError"></a>
## type ModelError

ModelError represents an error that occurred while generating a specific model.

```go
type ModelError struct {
    ModelName string
    Error     error
}
```

<a name="ModelError.String"></a>
### func \(ModelError\) String

```go
func (e ModelError) String() string
```

String returns a formatted error message.

<a name="ViewGenerator"></a>
## type ViewGenerator

ViewGenerator handles generation of LookML views

```go
type ViewGenerator struct {
    // contains filtered or unexported fields
}
```

<a name="NewViewGenerator"></a>
### func NewViewGenerator

```go
func NewViewGenerator(cfg *config.Config) *ViewGenerator
```

NewViewGenerator creates a new ViewGenerator instance

<a name="ViewGenerator.GenerateNestedView"></a>
### func \(\*ViewGenerator\) GenerateNestedView

```go
func (g *ViewGenerator) GenerateNestedView(model *models.DbtModel, arrayColumn *models.DbtModelColumn) (*models.LookMLView, error)
```

GenerateNestedView generates a nested view for array/struct columns

<a name="ViewGenerator.GenerateView"></a>
### func \(\*ViewGenerator\) GenerateView

```go
func (g *ViewGenerator) GenerateView(model *models.DbtModel) (*models.LookMLView, error)
```

GenerateView generates a LookML view from a dbt model

<a name="ViewGeneratorInterface"></a>
## type ViewGeneratorInterface

ViewGeneratorInterface defines the interface for generating LookML views

```go
type ViewGeneratorInterface interface {
    // GenerateView generates a LookML view from a dbt model
    GenerateView(model *models.DbtModel) (*models.LookMLView, error)

    // GenerateNestedView generates a nested view for array/struct columns
    GenerateNestedView(model *models.DbtModel, arrayColumn *models.DbtModelColumn) (*models.LookMLView, error)
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
